<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <a href="index1.html" class="back-btn">⬅ Back to Home</a>
        <h2>Product Details</h2>
    </header>

    <div class="product-details">
        <img id="product-image" src="" alt="Product Image">
        <h2 id="product-name"></h2>
        <p id="product-price"></p>
        <p id="product-description"></p>
        <button onclick="addToCartFromDetails()">Add to Cart</button>
    </div>

    <script>
        // Fetch product details from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get("id");

        // Sample product list (same as in `script.js`)
        const products = [
            { id: 1, name: "Redmi 10", price: 8749, image: "https://rukminim2.flixcart.com/image/850/1000/xif0q/mobile/g/p/x/-original-imagk4nz54s7a7rf.jpeg?q=90&crop=false", description: "Powerful smartphone with great battery life." },
            { id: 2, name: "Sony Camera", price: 30999, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSM4k1e7Kxhl--loyiy8U3-wBMzFmy_AUsXQA&s", description: "Capture stunning photos with this high-quality camera." },
            { id: 3, name: "Men's T-Shirt", price: 499, image: "https://assets.myntassets.com/h_1440,q_100,w_1080/v1/assets/images/30064811/2024/6/28/7d96a2ec-9743-4839-aeae-dbf37341630a1719580801595HMMenPackOf3T-Shirts1.jpg", description: "Comfortable and stylish T-shirt for men." }
        ];

        // Find the product by ID
        const product = products.find(p => p.id == productId);
        if (product) {
            document.getElementById("product-image").src = product.image;
            document.getElementById("product-name").innerText = product.name;
            document.getElementById("product-price").innerText = "₹" + product.price;
            document.getElementById("product-description").innerText = product.description;
        }

        // Function to add the product to cart
        function addToCartFromDetails() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let cartItem = cart.find(item => item.id == productId);

            if (cartItem) {
                cartItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            localStorage.setItem("cart", JSON.stringify(cart));
            alert("Added to cart!");
        }
    </script>

</body>
</html>
